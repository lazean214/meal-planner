<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Planner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="css/style.css">
    
</head>

<body>


    <section id="app">
        <div class="container py-5">
            <a href="index.html">Return to Home</a>
            <div class="card">
                <div class="card-header">
                    <h2>Macro Calculator</h2>
                </div>
                <div class="card-body p-5">
                    <form action="">
                        <div class="form-group mb-3">
                            <label for="age">Age</label>
                            <input type="number" class="form-control" v-model="age" name="age" id="age" placeholder="0" min="1"
                                max="100" required>
                        </div>
                        <div class="form-group mb-3">
                            <label for="sex">Sex</label>
                            <div class="d-flex">
                            <div class="form-check p-3">
                                <label class="form-check-label" for="sex1"></label>
                                <input class="form-check-input" type="radio" v-model="sex" name="sex" id="sex1" value="66" required>
                                Male
                                </label>
                            </div>
                            <div class="form-check p-3">
                                <label class="form-check-label" for="sex2">
                                    <input class="form-check-input" type="radio"  v-model="sex" name="sex" id="sex2" value="665" required>
                                    Female
                                </label>
                            </div>
                        </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="height">Height</label>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <label class="form-check-label" for="metrics1">
                                        <input class="form-check-input" type="radio" v-model="metrics" name="metrics" id="metrics1" value="feet">
                                        Feet
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <label class="form-check-label" for="metrics2">
                                            <input class="form-check-input" type="radio" v-model="metrics" name="metrics" id="metrics2" value="meters">
                                            Meters
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input type="number" class="form-control" v-model="height1" name="height1" id="height1" :placeholder="metrics === 'meters' ? 'meter' : 'feet'">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input type="number" class="form-control" v-model="height2" name="height2" id="height2" :placeholder="metrics === 'meters' ? 'centemeter' : 'inches'">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="height">weight</label>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <label class="form-check-label" for="weightmetric1"></label>
                                        <input class="form-check-input" v-model="weightmetric" type="radio" name="weightmetric"
                                            id="weightmetric1" value="lb">
                                        Pounds
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <label class="form-check-label" for="weightmetric2">
                                            <input class="form-check-input"  v-model="weightmetric" type="radio" name="weightmetric"
                                                id="weightmetric2" value="kg">
                                            Kilograms
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <input type="number" class="form-control" v-model="actualweight" name="actualweight" id="actualweight" placeholder="0">
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="age">Goal</label>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="goal1"></label>
                                        <input class="form-check-input" v-model="goal" type="radio" name="goal" id="goal1" value="maintain" checked>
                                        Maintain Current Weight
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="goal2">
                                            <input class="form-check-input" v-model="goal" type="radio" name="goal" id="goal2" value="loose">
                                            Loose Weight
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="goal3">
                                            <input class="form-check-input" v-model="goal" type="radio" name="goal" id="goal3" value="gain">
                                            Gain Weight
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="age">ACTIVITY LEVEL</label>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="activity1"></label>
                                        <input class="form-check-input" v-model="activity" type="radio" name="activity" id="activity1" value="1.2">
                                        Sedentary (Little or no exercise)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="activity2">
                                            <input class="form-check-input" v-model="activity" type="radio" name="activity" id="activity2" value="1.375">
                                            Lightly active (Light exercise/sports 3-5 days a week)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="activity3">
                                            <input class="form-check-input" v-model="activity" type="radio" name="activity" id="activity3" value="1.55">
                                            Moderately active (Moderate exercise/sports 3-5 days a week)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="activity4"></label>
                                        <input class="form-check-input" v-model="activity" type="radio" name="activity" id="activity4" value="1.9">
                                        Very active (Hard exercise/sports 6-7 days a week)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-check">
                                        <label class="form-check-label" for="activity5">
                                            <input class="form-check-input" v-model="activity" type="radio" name="activity" id="activity5" value="5">
                                            Extra active (Hard exercise/sports 6-7 days a week, plus physical job)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button @click.prevent="submit()" class="btn btn-primary">
                            Calculate
                        </button>
                    </form>
                    <hr class="py-2">
                    <div>
                        <h3>Result</h3>
                        <div>Basal Metabolic Rate (BMR): {{ bmr }}</div>
                        <div>Protein: {{ protein }}</div>
                        <div>Carbs: {{ carbs }}</div>
                        <div>Fats: {{ fat }}</div>
                        {{ result }}
                        {{ suggestions }}
                    </div>

                    <div v-if="isShow">
                        <a class="btn btn-primary" href="meal-planner.html">Proceed to Meal Planner</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script >
        
        var app = new Vue({
          el: '#app',
          data: {
                age: '',
                sex: '',
                metrics: '',
                height1: '',
                height2: '',
                weightmetric: '',
                actualweight: '',
                goal: '',
                activity: '',
                isShow: false,
                result: '',
                suggestions: '',
                bmr: '',
                protein: '',
                carbs: '',
                fat: '',


            },
          
        methods:{

            submit() {


                //BMR Women
                // = 655 + (9.6 × weight in kg) + (1.8 × height in cm) – (4.7 × age in years)

                //BMR Men
                //  66 + (13.7 × weight in kg) + (5 × height in cm) – (6.8 × age in years)

                //Activity Level
                // = (BMR) x (activity level)

                //Macro Split

                /*
                * Protien = 40%     [ total daily intake x 0.4 = total/4 = totalgrams] 
                * Carbs = 30%       [ total daily intake x 0.3 = total/4 = totalgrams] 
                * Fat = 30%         [ total daily intake x 0.3 = total/9 = totalgrams] 
                */
                
                if (this.metrics === 'feet'){

                    var convertHeightToInches = this.height1 * 12;
                    var totalIn = convertHeightToInches + parseInt(this.height2);
                    var h = parseInt(totalIn) * 2.54;
                   
                }else{

                    var convertMeterToCm = this.height1 * 100;
                    var h = convertMeterToCm + parseInt(this.height2);
                }

                if(this.weightmetric === 'lb'){
                    var convertPoundToKg = parseInt(this.actualweight * 0.453592);
                    var w = convertPoundToKg;
                }else{
                    var w = this.actualweight;
                }

                console.log("Height: " + h);
                
                console.log("Weight: " + w);

                console.log(this.sex);
                console.log(9.6 * w);
                console.log(1.8 * h);
                console.log(4.7 * parseInt(this.age));
 

                if(this.sex === 'female'){
                    this.bmr = (665 + (9.6 * w) + (1.8 * h) - (4.7 * parseInt(this.age))) * parseInt(this.activity);
                }else{
                    this.bmr = (66 + (13.7 * w) + (5 * h) - (6.8 * parseInt(this.age))) * parseInt(this.activity);
                }
               
                this.protein = ((this.bmr * 0.4) / 4);
                // this.carbs = (this.bmr * 0.3) / 4;
                // this.protein = w;
                this.fat = (this.bmr * 0.25) / 9;

                this.carbs = (this.bmr -this.protein - this.fat) / 4;

                if(this.goal === 'maintain'){

                    this.protein = this.protein * 1.5;
                    this.fat = (this.bmr * 0.25) / 9;
                    this.carbs = this.carbs;

                    var pc =  this.protein;
                    var fc = this.bmr * 0.25;
                    var cc = this.bmr -this.protein - this.fat;
                } 
                
                if(this.goal === 'loose'){

                    this.protein = this.protein * 2.2;
                    this.fat = (this.bmr * 0.20) / 9;
                    this.carbs = this.carbs;

                    var pc =  this.protein;
                    var fc = this.bmr * 0.20;
                    var cc = this.bmr -this.protein - this.fat;

                } 
                if(this.goal === 'gain') {

                    this.protein = this.protein * 2;
                    this.fat = (this.bmr * 0.25) / 9;
                    this.carbs = this.carbs;

                    var pc =  this.protein * 4;
                    var fc = this.bmr * 0.25;
                    var cc = this.bmr -this.protein - this.fat;

                }
             
                this.protein = this.protein + "g (" + pc + ") calories";
                this.fat = this.fat + "g (" + fc + ") calories";
                this.carbs = this.carbs + "g (" + cc + ") calories";

                this.isShow = true;
                // alert('Form Is Submitted.');      
            }   
        }  
         })
     </script>
</body>

</html>